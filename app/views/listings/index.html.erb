<div class="container">
  <div class="row">
    <div class="col-sm-4">
      <h1 class="text-center info-pane-title">public<span class="ad-txt">ad</span></h1>
      <div class="info-pane-description">
        <p>Click on one of the map's markers to get started and see the public<span class="ad-txt">ad</span> information.</p>
      </div>
    </div>
    <div class="col-sm-8">
      <div id='pubAdMap'></div>
    </div>
  </div>
</div>

<% content_for :javascripts do %>
<script type="text/javascript" src="http://maps.google.com/maps/api/js"></script>
<script type="text/javascript">
var APP = {};
var map,
    center,
    mapContainer = $('#pubAdMap'),
    mapCanvas = document.createElement('div'),
    infos = [];
    var mapOptions = {
      center: new google.maps.LatLng(33.1, -117.2),
      zoom: 9,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      zoomControl: true, 
      mapTypeControl: false,
      scrollwheel: false,
      zoomControlOptions: {position: google.maps.ControlPosition.LEFT_CENTER}
    };
;APP.locationsMap = function () {
  function initialize() {
    styleMapElement(mapCanvas);
    appendMapElement(mapCanvas, mapContainer);  
    APP.map = new google.maps.Map(document.getElementById("map"),
        mapOptions);    
    google.maps.event.addDomListener(APP.map, 'idle', function() {
      calculateCenterOfMap();
    });
    google.maps.event.addDomListener(window, 'resize', function() {
      APP.map.setCenter(APP.mapCenter);
    });
    function styleMapElement(mapCanvas){
      mapCanvas.id = 'map';
      mapCanvas.style.height = '440px';
      mapCanvas.style.width = '100%';
      mapCanvas.style.margin='0 auto 0';
      mapCanvas.style.position= 'relative';
      return mapCanvas;
    }
    function appendMapElement(mapCanvas, mapContainer){
      var mapContainingElement;
      $(mapContainer).append(mapCanvas);
    }
    function calculateCenterOfMap() {
      APP.mapCenter = APP.map.getCenter();
    }
  }
  google.maps.event.addDomListener(window, 'load', initialize);
}
</script>
<script>APP.locationsMap();</script>


<% end %>